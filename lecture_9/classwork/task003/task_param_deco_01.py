# 3. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
# –î–æ —ç—Ç–æ–≥–æ –º—ã –≤–∫–ª–∞–¥—ã–≤–∞–ª–∏ –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é –≤ –¥—Ä—É–≥—É—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–º—ã–∫–∞–Ω–∏—è. –ï—Å–ª–∏ –º—ã
# —Ö–æ—Ç–∏–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Ç—Ä–µ—Ç–∏–π
# —É—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞.
import time
from typing import Callable


def count(num: int = 1):
    def deco(func: Callable):
        def wrapper(*args, **kwargs):
            time_for_count = []
            result = None
            for _ in range(num):
                start = time.perf_counter()
                result = func(*args, **kwargs)
                stop = time.perf_counter()
                time_for_count.append(stop - start)
            print(f'–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–º–µ—Ä–æ–≤ {time_for_count}')
            return result

        return wrapper

    return deco


@count(3)
def factorial(n: int) -> int:
    f = 1
    for i in range(2, n + 1):
        f *= i
    return f


print(f'{factorial(1000) = }')
print(f'{factorial(1000) = }')
# ‚óè –í–Ω–µ—à–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è count –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ num. –î–∞–Ω–Ω—ã–π
# –ø–∞—Ä–∞–º–µ—Ç—Ä –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è —Ü–∏–∫–ª–∞ for.
# ‚óè –§—É–Ω–∫—Ü–∏—è deco –∫–∞–∫ –∏ –≤ –ø—Ä–æ—à–ª—ã—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–µ–∫–ª–∞—Ä–∏—Ä—É–µ–º—É—é
# —Ñ—É–Ω–∫—Ü–∏—é.
# ‚óè –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è wrapper —Å–æ–∑–¥–∞—ë—Ç —Å–ø–∏—Å–æ–∫ time_for_count –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è
# —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–º–µ—Ä–æ–≤ –±—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è.
# ‚óã –ó–∞–ø—É—Å–∫–∞–µ–º —Ü–∏–∫–ª for —Å—Ç–æ–ª—å–∫–æ —Ä–∞–∑, —Å–∫–æ–ª—å–∫–æ –º—ã –ø–µ—Ä–µ–¥–∞–ª–∏ –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä:
# @count(10)
# 15
# ‚óã –í–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–∞ for –∑–∞–º–µ—Ä—è–µ–º —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è. –î–∞–ª–µ–µ –≤—ã–ø–æ–ª–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é
# –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é. –ó–∞–º–µ—Ä—è–µ–º –≤—Ä–µ–º—è –ø–æ—Å–ª–µ
# –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–∞–∑–Ω–∏—Ü—É –≤ —Å–ø–∏—Å–æ–∫.
# ‚óã –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ü–∏–∫–ª–∞ —Å–æ–æ–±—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ —Å–ø–∏—Å–∫–∞
# time_for_count –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –¥–µ–∫–ª–∞—Ä–∏—Ä—É–µ–º–æ–π
# —Ñ—É–Ω–∫—Ü–∏–∏.
# ‚óè –ò—Å–ø–æ–ª—å–∑—É—è –æ–±—ë—Ä—Ç–∫—É –¥–ª—è —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞ –¥–µ–ª–∞–µ–º 10 –∑–∞–º–µ—Ä–æ–≤ –∏ —Å–º–æ—Ç—Ä–∏–º –≤—Ä–µ–º—è –Ω–∞
# –≤—ã—á–∏—Å–ª–µ–Ω–∏—è.
# üî• –í–∞–∂–Ω–æ! –ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –Ω–µ —Å–ª—É—á–∞–π–Ω–æ. –ö–∞–∂–¥—ã–π –∏–∑ –¥–≤—É—Ö
# –∑–∞–ø—É—Å–∫–æ–≤ –¥–µ–ª–∞–µ—Ç –ø–æ 10 –∑–∞–º–µ—Ä–æ–≤. –ï—Å–ª–∏ –±—ã —Å–ø–∏—Å–æ–∫ time_for_count –±—ã–ª —Å–æ–∑–¥–∞–Ω –Ω–∞
# —É—Ä–æ–≤–µ–Ω—å –≤—ã—à–µ, –≤ —Ñ—É–Ω–∫—Ü–∏–∏ deco, –ø—Ä–æ–∏–∑–æ—à–ª–æ –±—ã –µ–≥–æ –∑–∞–º—ã–∫–∞–Ω–∏–µ. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
# –∫–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ factorial –¥–æ–ø–æ–ª–Ω—è–ª –±—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–ø–∏—Å–æ–∫,
# –∞ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª –±—ã –Ω–æ–≤—ã–µ 10 –∑–Ω–∞—á–µ–Ω–∏–π.
# –î–µ–∫–æ—Ä–∞—Ç–æ—Ä —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ª—é–±—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç
# –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è.
# üî• –í–∞–∂–Ω–æ! –î–ª—è –æ—Ü–µ–Ω–∫–∏ –±—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–¥–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
# –º–æ–¥—É–ª—å timeit –∏–∑ ‚Äú–±–∞—Ç–∞—Ä–µ–µ–∫ Python‚Äù, –∞ –Ω–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –≤—ã—à–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
