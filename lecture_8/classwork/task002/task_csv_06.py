# –§–æ—Ä–º–∞—Ç CSV
# ‚óè –ó–∞–ø–∏—Å—å –∏–∑ —Å–ª–æ–≤–∞—Ä—è
# –î–ª—è –∑–∞–ø–∏—Å–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è –≤ CSV –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–ª–∞—Å—Å DictWriter. –ï–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
# —Å—Ö–æ–∂–∏ —Å —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–º–∏ –≤—ã—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ DictReader.
import csv
from typing import Iterator

with (
    open('biostats_tab.csv', 'r', newline='') as f_read,
    open('biostats_new.csv', 'w', newline='', encoding='utf-8') as f_write
):
    csv_read: Iterator[dict] = csv.DictReader(f_read, fieldnames=["name", "sex", "age", "height", "weight", "office"],
                                              restval="Main Office", dialect='excel-tab', quoting=csv.QUOTE_NONNUMERIC)
    csv_write = csv.DictWriter(f_write, fieldnames=["id", "name",
                                                    "office", "sex", "age", "height", "weight"],
                               dialect='excel-tab',
                               quoting=csv.QUOTE_ALL)
    csv_write.writeheader()
    all_data = []
    for i, dict_row in enumerate(csv_read):
        if i != 0:
            dict_row['id'] = i
            dict_row['age'] += 1
            all_data.append(dict_row)
    csv_write.writerows(all_data)
# –ö–ª–∞—Å—Å DictWriter –ø–æ–ª—É—á–∏–ª —Å–ø–∏—Å–æ–∫ –ø–æ–ª–µ–π –¥–ª—è –∑–∞–ø–∏—Å–∏, –≥–¥–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –Ω–æ–≤–æ–µ –ø–æ–ª–µ id. –í
# –∫–∞—á–µ—Å—Ç–≤–µ –¥–∏–∞–ª–µ–∫—Ç–∞ –≤—ã–±—Ä–∞–Ω excel —Å —Ç–∞–±—É–ª—è—Ü–∏–µ–π. –í –ø–∞—Ä–∞–º–µ—Ç—Ä–µ quoting —É–∫–∞–∑–∞–ª–∏, —á—Ç–æ –≤—Å–µ
# –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç–æ–∏—Ç –∑–∞–∫–ª—é—á–∞—Ç—å –≤ –∫–∞–≤—ã—á–∫–∏.
# –ù–æ–≤—ã–π –¥–ª—è –Ω–∞—Å –º–µ—Ç–æ–¥ writeheader —Å–æ—Ö—Ä–∞–Ω–∏–ª –ø–µ—Ä–≤—É—é —Å—Ç—Ä–æ–∫—É —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –≤ —Ç–æ–º
# –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –º—ã –∏—Ö –ø–µ—Ä–µ—á–∏—Å–ª–∏–ª–∏ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ fieldnames. –î–∞–ª–µ–µ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º
# —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Å–ª–æ–≤–∞—Ä—è –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π –¥–ª—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–π –∑–∞–ø–∏—Å–∏ –≤
# —Ñ–∞–π–ª.
# üî• –í–∞–∂–Ω–æ! –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∏–º–ø–æ—Ä—Ç –æ–±—ä–µ–∫—Ç–∞ Iterator –∏–∑ –º–æ–¥—É–ª—è typing.
# –ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–¥–∞ IDE –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–ª–∞ –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏, —Ç–∞–∫ –∫–∞–∫ –Ω–µ
# –ø–æ–Ω–∏–º–∞–ª–∞ —á—Ç–æ –∑–∞ –æ–±—ä–µ–∫—Ç csv_read. –ó–∞–ø–∏—Å—å csv_read: Iterator[dict] = ‚Ä¶ —Å–æ–æ–±—â–∞–µ—Ç,
# —á—Ç–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ä–µ–∫—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä–∏. –ü–æ—Å–ª–µ
# —É—Ç–æ—á–Ω–µ–Ω–∏—è —Ç–∏–ø–∞ IDE –∏—Å–∫–ª—é—á–∏–ª–∞ –ø–æ–¥—Å–≤–µ—Ç–∫—É ‚Äú–æ—à–∏–±–æ–∫‚Äù.
